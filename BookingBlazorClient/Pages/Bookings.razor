@page "/bookings"

<h3>Bookings</h3>

@if (bookings == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <ol class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-start" style="background-color: rgba(10,10,10,0.1);">
            <div class="col-3"><h5>Room</h5></div>
            <div class="col-4"><h5>Date/Time</h5></div>
            <div class="col-3"><h5>User</h5></div>
            <div class="col-1"></div>
            <div class="col-1"></div>
        </li>

        @foreach (var booking in bookings)
        {
            <li class="list-group-item d-flex justify-content-between align-items-start bg-light">
                <div class="col-3">@booking.RoomName </div>
                <div class="col-4">
                    <div class="row">
                        <span class="badge bg-primary text-light">@booking.Start.ToShortTimeString() - @booking.End.ToShortTimeString()</span>
                    </div>
                    <div class="row">@booking.Start.ToShortDateString()</div>
                </div>

                <div class="col-3">@booking.UserName</div>
                <div class="col-1">
                </div>
                <div class="col-1">
                    <button type="button" class="btn btn-danger btn-sm" @onclick="() => OpenDeleteDialog(booking)">Delete</button>
                </div>
            </li>
        }
    </ol>

    @if (DeleteDialogOpen)
    {
        <ModalDialogDelete Title="Are you sure?" Text="Do you want to delete this entry?" OnClose="@OnDeleteDialogClose"></ModalDialogDelete>
    }
}
