@page "/rooms"

@if (rooms == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="d-flex">
        <h5 class="m-2 font-weight-bold">Rooms</h5>
        <button type="button" class="btn btn-success btn-sm m-1" @onclick="() => OpenCreateRoomDialog()">Create new</button>
    </div>

    <ol class="list-group">
        <li class="list-group-item d-flex justify-content-center align-items-start text-center text-black-50" style="background-color: rgba(10,10,10,0.1);">
            <div class="col-2"><span class="oi oi-info"></span></div>
            <div class="col-2"><img src="/images/chair20.png" class="opacity_05" /></div>
            <div class="col-2"><span class="oi oi-video"></span></div>
            <div class="col-2"><span class="oi oi-pencil"></span></div>
            <div class="col-2"><span class="oi oi-trash"></span></div>
            <div class="col-2"><span class="oi oi-plus"></span></div>
        </li>

        @foreach (var room in rooms)
        {
            <li class="list-group-item d-flex justify-content-center align-items-start bg-light text-center">
                <div class="col-2">@room.Name</div>
                <div class="col-2">@room.Places</div>
                <div class="col-2">@(room.IsProjector ? "YES":"NO")</div>
                <div class="col-2">
                    <button type="button" class="btn btn-primary btn-sm" @onclick="() => OpenEditRoomDialog(room)">Edit room</button>
                </div>
                <div class="col-2">
                    <button type="button" class="btn btn-danger btn-sm" @onclick="() => OpenDeleteDialog(room)">Delete</button>
                </div>
                <div class="col-2">
                    <a class="btn btn-success btn-sm m-1" href="createbooking">
                        Book now
                    </a>
                </div>


            </li>
        }
    </ol>

    @if (DeleteDialogOpen)
    {
        <ModalDialogDelete Title="Are you sure?" Text="Pay attention, related bookings will be deleted!" OnClose="@OnDeleteDialogClose"></ModalDialogDelete>
    }

    @if (EditRoomDialogOpen)
    {
        <ModalDialogEditRoom Title="Edit room" ErrorMessage="@_errorMessage" Room=@_roomToEdit OnClose="@OnEditRoomDialogClose"></ModalDialogEditRoom>
    }

}

@if (CreateRoomDialogOpen)
{
    <ModalDialogCreateRoom Title="Create room" ErrorMessage="@_errorMessage" Room=@_roomToCreate OnClose="@OnCreateRoomDialogClose"></ModalDialogCreateRoom>
}

<style>
    .font-segoeUI {
        font-family: Segoe UI;
    }

    .font-size-0_75 {
        font-size: 0.75rem;
    }

    .font-size-1 {
        font-size: 1rem;
    }

    .font-size-1_25 {
        font-size: 1.25rem;
    }

    .font-size-1_5 {
        font-size: 1.5rem;
    }

    .font-size-1_75 {
        font-size: 1.75rem;
    }

    .font-size-2 {
        font-size: 2rem;
    }

    .font-size-2_25 {
        font-size: 2.25rem;
    }

    .font-size-2_5 {
        font-size: 2.5rem;
    }

    .font-size-2_75 {
        font-size: 2.75rem;
    }

    .font-size-3 {
        font-size: 3rem;
    }

    .font-size-4 {
        font-size: 4rem;
    }

    .opacity_05 {
        opacity: 0.5;
    }

    .opacity_06 {
        opacity: 0.6;
    }

    .opacity_07 {
        opacity: 0.7;
    }

    .m-left-3 {
        margin-left: 3rem;
    }
</style>
